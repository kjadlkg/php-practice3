# **2021 OWASP Top 10**

### 1. Broken Access Control, 취약한 접근 통제

**공격 방식**:

- 인증되지 않은 사용자가 권한이 필요한 리소스에 접근
- 관리자 페이지, 특정 사용자 데이터, 기능을 무단으로 이용
- ID 변경을 통해 다른 사용자의 정보에 접근 (예: `/user?id=1` → `/user?id=2`)

**공격 시나리오**:

사용자가 자신의 정보에 접근하는 `/user/profile` 요청을 보낸 후, `id=1`을 `id=2`로 변경하여 다른 사용자의 정보에 접근한다.

**방어 방법**:

- 역할 기반 접근 제어 RBAC 또는 권한 기반 접근 제어 PBAC 적용
- 서버 측에서 권한 확인 로직 추가
- API 및 리소스 접근 제한

<br>
<br>

### 2. Cryptographic Failures, 암호화 실패

**공격 방식**:

- 민감한 데이터(비밀번호, 카드 정보 등)가 암호화되지 않거나 취약한 암호화 알고리즘 사용
- HTTPS 미사용으로 데이터가 평문으로 전송됨
- 하드코딩된 키 또는 재사용된 암호화 키 사용

**공격 시나리오**:

공격자가 네트워크 스니핑을 통해 HTTP로 전송되는 로그인 정보를 가로채어 사용자 계정을 탈취한다.

**방어 방법**:

- HTTPS (TLS 1.2 이상) 사용
- 강력한 암호화 알고리즘(AES, RSA, SHA-256 등) 사용
- 민감한 데이터 저장 시 hasing 및 salt 적용

<br>
<br>

### 3. Injection, 인젝션 공격

**공격 방식**:

- SQL Injection, XSS, Command Injection 등
- 입력 값이 검증되지 않고 코드로 실행됨

**공격 시나리오**:

```bash
?id=1 OR 1=1 --
```

위와 같은 SQL Injection을 실행하면 전체 데이터를 조회 가능하다.

**방어 방법**:

- 사용자 입력 값 검증 및 필터링
- Prepared Statement 및 ORM 사용 → SQL Injection 방지
- Content Security Policy(CSP) 적용 → XSS 방지

<br>
<br>

### 4. Insecure Design, 취약한 설계

**공격 방식**:

- 보안이 고려되지 않은 시스템 설계
- 비즈니스 로직이 예상치 못한 방식으로 악용 가능

**공격 시나리오**:
예를 들어, 사용자에게 1회만 제공되는 쿠폰을 여러 번 사용할 수 있도록 설계할 수 있다.

**방어 방법**:

- 보안 중심 설계 원칙 적용
- 위협 모델링 수행
- 보안 코드 리뷰 및 테스트 강화

<br>
<br>

### 5. Security Misconfiguration, 보안 설정 오류

**공격 방식**:

- 기본 관리자 계정 및 비밀번호 미변경
- 디버그 모드가 활성화된 상태로 운영
- 불필요한 포트 및 서비스 노출

**공격 시나리오**:
관리 페이지 `/admin`이 기본 계정 `admin:admin`으로 로그인이 가능하다.

**방어 방법**:

- 보안 설정 검토 및 최소 권한 원칙 적용
- 기본 계정 삭제 및 강력한 비밀번호 설정
- 보안 패치 및 업데이트 적용

<br>
<br>

### 6. Vulnerable and Outdated Components, 취약하고 오래된 구성 요소 사용

**공격 방식**:

- 오래된 라이브러리 및 프레임 워크 사용
- 알려진 보안 취약점이 있는 버전 사용

**공격 시나리오**:
Apache Struts의 취약점을 이용한 원격 코드 실행 (RCE) 공격이 있을 수 있다.

**방어 방법**:

- 최신 보안 패치 적용
- 의존성 검사 및 보안 업데이트 확인

<br>
<br>

### 7. Identification and Authentication Failures, 인증 및 식별 실패

**공격 방식**:

- 취약한 비밀번호 정책
- Multi-Factor Authentication (MFA) 미사용
- Brute Force 공격 가능

**공격 시나리오**:
사용자가 "password123" 같은 쉬운 비밀번호를 사용하여 계정이 탈취된다.

**방어 방법**:

- 강력한 비밀번호 정책 적용
- MFA 적용
- 로그인 시도 횟수 제한

<br>
<br>

### 8. Software and Data Integrity Failures, 소프트웨어 및 데이터 무결성 실패

**공격 방식**:

- 코드 또는 데이터가 무단으로 변경됨
- 악성 업데이트 파일 다운로드

**공격 시나리오**:
공격자가 CDN을 해킹하여 악성 JavaScript가 포함된 라이브러리를 제공한다.

**방어 방법**:

- 코드 서명 및 무결성 검증
- 안전한 업데이트 메커니즘 사용

<br>
<br>

### 9. Security Logging and Monitoring Failures, 보안 로깅 및 모니터링 실패

**공격 방식**:

- 보안 이벤트가 기록되지 않아 공격 탐지 불가능
- 실시간 모니터링 미비로 인한 대응 지연

**공격 시나리오**:
공격자가 1000번 이상 로그인 시도를 했지만, 로그가 남지 않아 탐지되지 않는다.

**방어 방법**:

- 로그 수집 및 분석 시스템 구축
- 침입 탐지 시스템(IDS) 및 보안 정보 이벤트 관리(SIEM) 도입

<br>
<br>

### 10. Server-Side Request Forgery, SSRF

**공격 방식**:

- 서버가 공격자의 요청을 대신 수행
- 내부 네트워크로의 접근 허용

**공격 시나리오**:
공격자가 `/fetch?url=http://internal/admin`을 요청하여 내부 관리자 페이지에 접근한다.

**방어 방법**:

- 외부 요청을 제한
- 화이트리스트 기반 접근 제어를 적용
